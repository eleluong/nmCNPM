{"ast":null,"code":"var _jsxFileName = \"E:\\\\FrontEnd\\\\CNPM\\\\nmCNPM\\\\CNPM\\\\nmCNPM\\\\lirvecafe\\\\src\\\\frontend\\\\components\\\\HomeAdmin\\\\CRUD\\\\CRUD.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Routes, Route, Link, useNavigate } from \"react-router-dom\";\nimport AddStaff from \"./AddStaff\";\nimport styles from \"./CRUD.module.css\";\nimport ListStaff from \"./ListStaff\";\nimport './ListStaff.css';\nimport UpdateStaff from \"./UpdateStaff\";\nimport DeleteStaff from \"./DeleteStaff\";\nimport SuccessForm from \"./SuccessFrom\"; //import StaffList from './StaffList'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CRUD() {\n  _s();\n\n  const [staffEditInfo, setStaffEditInfo] = useState('{\"id\": 20194182}');\n  const [staffDeleteInfo, setStaffDeleteInfo] = useState('{\"id\": 20194182}');\n  const [isOpenEdit, setIsOpenEdit] = useState(false);\n  const [isOpenDelete, setIsOpenDelete] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [successMsg, setSuccessMsg] = useState(''); //Các biến xét để render gọi API get all ít hơn\n\n  const [isAdded, setIsAdded] = useState(false);\n  const [isUpdated, setIsUpdated] = useState(false);\n\n  const handleDelete = staff => {\n    // navigate('/CRUD/deletestaff');\n    console.log(staff);\n    setIsOpenDelete(true);\n    setSuccessMsg('Xóa thành công!');\n    setStaffDeleteInfo(JSON.stringify(staff));\n  };\n\n  const handleUpdate = staff => {\n    setIsOpenEdit(true);\n    setSuccessMsg('Sửa đổi thành công!');\n    setStaffEditInfo(JSON.stringify(staff));\n  }; // const handleExit = () => {\n  //     setIsOpenEdit(false);\n  // }\n  // const staffs = [\n  //     {\n  //         id: 'Staff01',\n  //         name: \"Chu Mạnh Tiến\",\n  //         phone: '0979832446',\n  //         email: 'tiencm@gmail.com',\n  //         address: 'Bắc Ninh, Việt Nam' \n  //     },\n  //     {\n  //         id: 'Staff02',\n  //         name: \"Chu Phúc Nhật Minh\",\n  //         phone: '0979832445',\n  //         email: 'minhcpn@gmail.com',\n  //         address: 'Bắc Ninh, Việt Nam' \n  //     },\n  // ];\n  //Staffs bên code chính\n\n\n  const icon_delete = \"fas fa-trash-alt\";\n  const icon_update = \"fas fa-edit\";\n  const [staffs, setStaffs] = useState([]);\n  var staffsAPI = 'http://localhost:5000/staff/get_all';\n  useEffect(() => {\n    const getStaffs = async () => {\n      const res = await (await fetch(staffsAPI)).json();\n      setStaffs(res);\n    };\n\n    getStaffs();\n  }, [isAdded, isUpdated]);\n  console.log(staffs);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.CRUD,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.HeaderCRUD,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.HeaderCRUD_text,\n        children: \"Danh s\\xE1ch nh\\xE2n vi\\xEAn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"ThemNhanVien\",\n        className: styles.AddStaff_link,\n        children: \" +Th\\xEAm nh\\xE2n vi\\xEAn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), isOpenEdit && /*#__PURE__*/_jsxDEV(UpdateStaff, {\n      setFlagSuccess: setIsSuccess,\n      staff: JSON.parse(staffEditInfo),\n      closeModal: setIsOpenEdit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 28\n    }, this), isOpenDelete && /*#__PURE__*/_jsxDEV(DeleteStaff, {\n      setFlagSuccess: setIsSuccess,\n      staff: JSON.parse(staffDeleteInfo),\n      closeModal: setIsOpenDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 30\n    }, this), isSuccess && /*#__PURE__*/_jsxDEV(SuccessForm, {\n      setFlagSuccess: setIsSuccess,\n      success: successMsg,\n      isUpdated: isUpdated,\n      setChange: setIsUpdated\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"staffs\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"staff_table\",\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"staff_head_tr\",\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"head_list\",\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"head_list\",\n              children: \"T\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"head_list\",\n              children: \"S\\u0110T\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"head_list\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"head_list\",\n              children: \"\\u0110\\u1ECBa ch\\u1EC9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"head_list\",\n              children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, this), staffs.map((staff, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            title: \"Double Click \\u0111\\u1EC3 xem th\\xF4ng tin\",\n            className: \"staff_tr\",\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: styles.list,\n              children: staff.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"list\",\n              children: staff.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"list\",\n              children: staff.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"list\",\n              children: staff.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"list\",\n              children: staff.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              title: \"Ch\\u1ECDn s\\u1EEDa, x\\xF3a\",\n              className: \"list\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ud_staff\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon_button\",\n                  onClick: () => handleUpdate(staff),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    title: \"S\\u1EEDa\",\n                    className: \"fas fa-edit icon_button_update\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 103\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon_button\",\n                  onClick: () => handleDelete(staff),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    title: \"x\\xF3a\",\n                    className: \"fas fa-trash-alt icon_button_delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 103\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: /*#__PURE__*/_jsxDEV(Route, {\n        path: \"ThemNhanVien\",\n        element: /*#__PURE__*/_jsxDEV(AddStaff, {\n          setChange: setIsAdded,\n          isAdded: isAdded\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CRUD, \"lsjRMTF27uL3RLhz+jFNJpUrE4U=\");\n\n_c = CRUD;\nexport default CRUD;\n\nvar _c;\n\n$RefreshReg$(_c, \"CRUD\");","map":{"version":3,"sources":["E:/FrontEnd/CNPM/nmCNPM/CNPM/nmCNPM/lirvecafe/src/frontend/components/HomeAdmin/CRUD/CRUD.js"],"names":["useState","useEffect","Routes","Route","Link","useNavigate","AddStaff","styles","ListStaff","UpdateStaff","DeleteStaff","SuccessForm","CRUD","staffEditInfo","setStaffEditInfo","staffDeleteInfo","setStaffDeleteInfo","isOpenEdit","setIsOpenEdit","isOpenDelete","setIsOpenDelete","isSuccess","setIsSuccess","successMsg","setSuccessMsg","isAdded","setIsAdded","isUpdated","setIsUpdated","handleDelete","staff","console","log","JSON","stringify","handleUpdate","icon_delete","icon_update","staffs","setStaffs","staffsAPI","getStaffs","res","fetch","json","HeaderCRUD","HeaderCRUD_text","AddStaff_link","parse","map","index","list","id","name","phone","email","address"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport {Routes, Route,  Link, useNavigate} from \"react-router-dom\"\r\nimport AddStaff from \"./AddStaff\"\r\nimport styles from \"./CRUD.module.css\"\r\nimport ListStaff from \"./ListStaff\"\r\nimport './ListStaff.css';\r\nimport UpdateStaff from \"./UpdateStaff\";\r\nimport DeleteStaff from \"./DeleteStaff\";\r\nimport SuccessForm from \"./SuccessFrom\";\r\n//import StaffList from './StaffList'\r\nfunction CRUD(){\r\n    const [staffEditInfo, setStaffEditInfo] = useState('{\"id\": 20194182}');\r\n    const [staffDeleteInfo, setStaffDeleteInfo] = useState('{\"id\": 20194182}')\r\n    const [isOpenEdit, setIsOpenEdit] = useState(false);\r\n    const [isOpenDelete, setIsOpenDelete] = useState(false);\r\n    const [isSuccess, setIsSuccess] = useState(false);\r\n    const [successMsg, setSuccessMsg]= useState('');\r\n    //Các biến xét để render gọi API get all ít hơn\r\n    const [isAdded, setIsAdded] = useState(false);\r\n    const [isUpdated, setIsUpdated] = useState(false);\r\n    const handleDelete = (staff) => {\r\n        // navigate('/CRUD/deletestaff');\r\n        console.log(staff);\r\n        setIsOpenDelete(true);\r\n        setSuccessMsg('Xóa thành công!');\r\n        setStaffDeleteInfo(JSON.stringify(staff));\r\n    }\r\n    const handleUpdate = (staff) => {\r\n        setIsOpenEdit(true);\r\n        setSuccessMsg('Sửa đổi thành công!');\r\n        setStaffEditInfo(JSON.stringify(staff));\r\n    }\r\n    // const handleExit = () => {\r\n    //     setIsOpenEdit(false);\r\n    // }\r\n    // const staffs = [\r\n    //     {\r\n    //         id: 'Staff01',\r\n    //         name: \"Chu Mạnh Tiến\",\r\n    //         phone: '0979832446',\r\n    //         email: 'tiencm@gmail.com',\r\n    //         address: 'Bắc Ninh, Việt Nam' \r\n    //     },\r\n    //     {\r\n    //         id: 'Staff02',\r\n    //         name: \"Chu Phúc Nhật Minh\",\r\n    //         phone: '0979832445',\r\n    //         email: 'minhcpn@gmail.com',\r\n    //         address: 'Bắc Ninh, Việt Nam' \r\n    //     },\r\n    // ];\r\n\r\n    //Staffs bên code chính\r\n    const icon_delete = \"fas fa-trash-alt\";\r\n    const icon_update = \"fas fa-edit\";\r\n    const [staffs, setStaffs] = useState([]);\r\n    var staffsAPI = 'http://localhost:5000/staff/get_all';\r\n    useEffect(() => {\r\n        const getStaffs = async () => {\r\n            const res = await (await fetch(staffsAPI)).json();\r\n            setStaffs(res);\r\n        };\r\n        getStaffs();\r\n    }, [isAdded, isUpdated]);\r\n    console.log(staffs);\r\n    return(\r\n        <div className={styles.CRUD}>\r\n            <div className={styles.HeaderCRUD}>\r\n                <h1 className={styles.HeaderCRUD_text}>Danh sách nhân viên</h1>\r\n                <Link to='ThemNhanVien' className={styles.AddStaff_link}> +Thêm nhân viên</Link>\r\n            </div>\r\n            {isOpenEdit && <UpdateStaff  setFlagSuccess={setIsSuccess} staff={JSON.parse(staffEditInfo)} closeModal = {setIsOpenEdit}></UpdateStaff>}\r\n            {isOpenDelete && <DeleteStaff setFlagSuccess={setIsSuccess} staff={JSON.parse(staffDeleteInfo)} closeModal = {setIsOpenDelete}></DeleteStaff>}\r\n            {isSuccess && <SuccessForm setFlagSuccess={setIsSuccess} success={successMsg} isUpdated={isUpdated} setChange={setIsUpdated}></SuccessForm>}\r\n            <div className='staffs'>\r\n                <table className='staff_table'>\r\n                <tbody>\r\n                    <tr className='staff_head_tr'>\r\n                        <th className='head_list'>ID</th>\r\n                        <th className='head_list'>Tên</th>\r\n                        <th className='head_list'>SĐT</th>\r\n                        <th className='head_list'>Email</th>\r\n                        <th className='head_list'>Địa chỉ</th>\r\n                        <th className='head_list'>Hành động</th>\r\n                    </tr>\r\n                    {staffs.map((staff, index) => (\r\n                        <tr key={index} title=\"Double Click để xem thông tin\"className='staff_tr'>\r\n                            <th className={styles.list}>{staff.id}</th>\r\n                            <th className='list'>{staff.name}</th>\r\n                            <th className='list'>{staff.phone}</th>\r\n                            <th className='list'>{staff.email}</th>\r\n                            <th className='list'>{staff.address}</th>\r\n                            <th title=\"Chọn sửa, xóa\"className='list'>\r\n                                <div className=\"ud_staff\"> \r\n\r\n                                {/* <span className='icon_button' onClick={() => handleUpdate(staff)}><button title=\"Sửa\" className=\"fas fa-edit icon_button_update\">Sửa</button></span>\r\n                                <span className='icon_button' onClick={() => handleDelete(staff)}><button title=\"xóa\" className=\"fas fa-trash-alt icon_button_delete\">Xóa</button></span> */}\r\n                                    <span className='icon_button' onClick={() => handleUpdate(staff)}><i title=\"Sửa\" className=\"fas fa-edit icon_button_update\"></i></span>\r\n                                    <span className='icon_button' onClick={() => handleDelete(staff)}><i title=\"xóa\" className=\"fas fa-trash-alt icon_button_delete\"></i></span>\r\n                                </div>\r\n                            </th>\r\n                            {/* Thay ở code chính */}\r\n                            {/* <th title=\"Chọn sửa, xóa\"className='list ud_staff'>\r\n                            <span className='icon_button' onClick={handleUpdate(staff)}><i title=\"Sửa\" className=\"fas fa-edit icon_button_update\"></i></span>\r\n                            <span className='icon_button' onClick={handleDelete(staff)}><i title=\"xóa\" className=\"fas fa-trash-alt icon_button_delete\"></i></span>\r\n                            </th> */}\r\n                        </tr>\r\n                    ))}\r\n                    {/* <tr>\r\n                        <td>Alfreds Futterkiste</td>\r\n                        <td>Maria Anders</td>\r\n                        <td>Germany</td>\r\n                    </tr> */}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            {/* <div>\r\n                <ListStaff></ListStaff>\r\n            </div> */}\r\n            \r\n            <Routes>\r\n                <Route path='ThemNhanVien' element={<AddStaff setChange = {setIsAdded} isAdded={isAdded}></AddStaff>}></Route>\r\n                {/* <Route path='/deletestaff' element={<AddStaff/>}></Route>\r\n                <Route path='/updatestaff' element={<AddStaff/>}></Route> */}\r\n            </Routes> \r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default CRUD"]},"metadata":{},"sourceType":"module"}